<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>–ê–¥–º—ñ–Ω –ü–∞–Ω–µ–ª—å</title>
    <style>
        body { font-family: sans-serif; padding: 20px; max-width: 1000px; margin: 0 auto; }
        h1, h2 { border-bottom: 2px solid #eee; padding-bottom: 10px; }
        .section { background: #f9f9f9; padding: 20px; margin-bottom: 30px; border-radius: 8px; border: 1px solid #ddd; }
        table { width: 100%; border-collapse: collapse; margin-top: 10px; background: white; }
        th, td { border: 1px solid #ccc; padding: 8px; text-align: left; vertical-align: middle; }
        .form-row { margin-bottom: 10px; }
        input, select { padding: 5px; width: 300px; }

        /*–ö–Ω–æ–ø–æ—á–∫–∏*/
        button, .btn-link { cursor: pointer; padding: 5px 10px; border: none; border-radius: 4px; font-size: 14px; display: inline-block; }
        button { background: #28a745; color: white; }

        .btn-delete { background: #dc3545; color: white; }

        .btn-edit {
            background: #ffc107;
            color: black;
            text-decoration: none;
            margin-right: 5px;
            padding: 5px 10px;
            border-radius: 4px;
        }

        .back-link { display: inline-block; margin-bottom: 20px; text-decoration: none; font-size: 18px; }
    </style>
</head>
<body>

<a href="/" class="back-link">‚Üê –ù–∞ –≥–æ–ª–æ–≤–Ω—É</a>
<h1>‚öôÔ∏è –ê–¥–º—ñ–Ω –ü–∞–Ω–µ–ª—å</h1>

<div class="section">
    <h2>üéµ –¢—Ä–µ–∫–∏ (Tracks)</h2>

    <form action="/admin/tracks/add" method="post" enctype="multipart/form-data" style="margin-bottom: 20px;">
        <div class="form-row"><input type="text" name="artist" placeholder="–í–∏–∫–æ–Ω–∞–≤–µ—Ü—å" required></div>
        <div class="form-row"><input type="text" name="title" placeholder="–ù–∞–∑–≤–∞ –ø—ñ—Å–Ω—ñ" required></div>
        <div class="form-row"><input type="file" name="file" accept=".mp3" required></div>
        <button type="submit">–ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –¢—Ä–µ–∫</button>
    </form>

    <table>
        <tr><th>ID</th><th>–í–∏–∫–æ–Ω–∞–≤–µ—Ü—å</th><th>–ù–∞–∑–≤–∞</th><th>–î—ñ—è</th></tr>
        <tr th:each="track : ${tracks}">
            <td th:text="${track.id}">1</td>
            <td th:text="${track.artist}">Queen</td>
            <td th:text="${track.title}">Bohemian</td>
            <td>
                <form th:action="@{/admin/tracks/delete/{id}(id=${track.id})}" method="post">
                    <button type="submit" class="btn-delete">–í–∏–¥–∞–ª–∏—Ç–∏</button>
                </form>
            </td>
        </tr>
    </table>
</div>

<div class="section">
    <h2>üìÇ –ü–ª–µ–π–ª–∏—Å—Ç–∏ (Playlists)</h2>

    <form action="/admin/playlists/add" method="post" style="margin-bottom: 20px;">
        <div class="form-row"><input type="text" name="name" placeholder="–ù–∞–∑–≤–∞ –ø–ª–µ–π–ª–∏—Å—Ç–∞" required></div>
        <div class="form-row">
            <label>–û–±–µ—Ä—ñ—Ç—å —Ç—Ä–µ–∫–∏ (Ctrl+Click –¥–ª—è –¥–µ–∫—ñ–ª—å–∫–æ—Ö):</label><br>
            <select name="trackIds" multiple style="height: 100px;">
                <option th:each="track : ${tracks}" th:value="${track.id}" th:text="${track.artist + ' - ' + track.title}"></option>
            </select>
        </div>
        <button type="submit">–°—Ç–≤–æ—Ä–∏—Ç–∏ –ü–ª–µ–π–ª–∏—Å—Ç</button>
    </form>

    <table>
        <tr><th>ID</th><th>–ù–∞–∑–≤–∞</th><th>–ö-—Å—Ç—å —Ç—Ä–µ–∫—ñ–≤</th><th>–î—ñ—è</th></tr>
        <tr th:each="pl : ${playlists}">
            <td th:text="${pl.id}">1</td>
            <td th:text="${pl.name}">Rock</td>
            <td th:text="${pl.tracks.size()}">5</td>
            <td>
                <a th:href="@{/admin/playlists/edit/{id}(id=${pl.id})}" class="btn-edit">
                    –†–µ–¥.
                </a>

                <form th:action="@{/admin/playlists/delete/{id}(id=${pl.id})}" method="post" style="display:inline;">
                    <button type="submit" class="btn-delete">–•</button>
                </form>
            </td>
        </tr>
    </table>
</div>

<div class="section">
    <h2>üìª –°—Ç–∞–Ω—Ü—ñ—ó (Stations)</h2>

    <form action="/admin/stations/add" method="post" style="margin-bottom: 20px;">
        <div class="form-row"><input type="text" name="name" placeholder="–ù–∞–∑–≤–∞ —Å—Ç–∞–Ω—Ü—ñ—ó" required></div>
        <div class="form-row">
            <select name="bitrate">
                <option value="64">64 kbps</option>
                <option value="92">92 kbps</option>
                <option value="128" selected>128 kbps</option>
                <option value="196">196 kbps</option>
                <option value="224">224 kbps</option>
            </select>
        </div>
        <div class="form-row">
            <label>–û–±–µ—Ä—ñ—Ç—å –ø–ª–µ–π–ª–∏—Å—Ç–∏:</label><br>
            <select name="playlistIds" multiple style="height: 80px;">
                <option th:each="pl : ${playlists}" th:value="${pl.id}" th:text="${pl.name}"></option>
            </select>
        </div>
        <button type="submit">–°—Ç–≤–æ—Ä–∏—Ç–∏ –°—Ç–∞–Ω—Ü—ñ—é</button>
    </form>

    <table>
        <tr><th>ID</th><th>–ù–∞–∑–≤–∞</th><th>–ë—ñ—Ç—Ä–µ–π—Ç</th><th>–î—ñ—è</th></tr>
        <tr th:each="st : ${stations}">
            <td th:text="${st.id}">1</td>
            <td th:text="${st.name}">My Radio</td>
            <td th:text="${st.bitrate}">128</td>
            <td>
                <form th:action="@{/admin/stations/delete/{id}(id=${st.id})}" method="post">
                    <button type="submit" class="btn-delete">–í–∏–¥–∞–ª–∏—Ç–∏</button>
                </form>
            </td>
        </tr>
    </table>
</div>

</body>
</html>